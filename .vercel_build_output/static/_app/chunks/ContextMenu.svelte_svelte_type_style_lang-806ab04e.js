import{U as u,V as p,W as g,X as f}from"./vendor-9c551f02.js";function w(e,a={type:"click",stopPropagation:!1}){const{type:_,stopPropagation:n}=a,l=t=>{n&&t.stopPropagation(),e&&!e.contains(t.target)&&!t.defaultPrevented&&e.dispatchEvent(new CustomEvent(`outer${_}`,{detail:t}))};return document.addEventListener(_,l,!0),{destroy(){document.removeEventListener(_,l,!0)}}}function h(e,a){const _=g(e,{fallbackFocus:e});return _.activate(),{destroy(){_.deactivate()}}}function b(e){return e+String.fromCharCode(Math.floor(Math.random()*26)+97)+Math.random().toString(16).slice(2)+Date.now().toString(16).split(".")[0]}function B(e,a={preventTab:!1,stopPropagation:!1}){const _=n=>{const{key:l}=n,{activeElement:t}=document;let s=f(e);const o=s.indexOf(document.activeElement);s.length<0||((l==="ArrowUp"||l==="ArrowDown"||l==="Tab"&&a.preventTab)&&(n.preventDefault(),a.stopPropagation&&n.stopPropagation()),l==="ArrowUp"?s[0]===t?s[s.length-1].focus():s.includes(t)&&s[o-1].focus():l==="ArrowDown"&&(s[s.length-1]===t?s[0].focus():s.includes(t)&&s[o+1].focus()))};return e.addEventListener("keydown",_),{destroy:()=>e.removeEventListener("keydown",_)}}function E(e){const a=window.getComputedStyle(document.documentElement).getPropertyValue(e);return parseFloat(a)*(/\ds$/.test(a)?1e3:1)||0}function P(e,a=[]){let _,n=[];return e.$on=(l,t)=>{let s=()=>{};if(a.includes(l)){const o=e.$$.callbacks[l]||(e.$$.callbacks[l]=[]);return o.push(t),()=>{const r=o.indexOf(t);r!==-1&&o.splice(r,1)}}return _?s=_(l,t):n.push([l,t]),()=>s()},l=>{const t=[],s={},o=r=>p(e,r);_=(r,y)=>{const c=u(l,r,y,!1),v=()=>{c();const i=t.indexOf(v);i>-1&&t.splice(i,1)};return t.push(v),r in s||(s[r]=u(l,r,o)),v};for(const r of n)_(r[0],r[1]);return{destroy:()=>{for(const r of t)r();for(let r of Object.entries(s))r[1]()}}}}export{B as a,P as c,w as e,h as f,E as g,b as u};
